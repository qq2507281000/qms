<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org" >
<head>
    <th:block th:include="include :: header('修改商家信息')" />
    <link href="/qcloud/css/cityLayout.css" type="text/css" rel="stylesheet">
</head>
<body class="white-bg">
    <div class="wrapper wrapper-content animated fadeInRight ibox-content">
        <form class="form-horizontal m" id="form-shop-edit" th:object="${tShop}">
            <input name="id" th:field="*{id}" type="hidden">
            <div class="form-group">    
                <label class="col-sm-3 control-label">商家名称：</label>
                <div class="col-sm-8">
                    <input name="name" th:field="*{name}" class="form-control" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">商家副标题：</label>
                <div class="col-sm-8">
                    <input name="subject" th:field="*{subject}" class="form-control" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">封面图片：</label>
                <div class="col-sm-8">
                    <input name="coverImg" th:field="*{coverImg}" class="form-control" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">是否推荐：</label>
                <div class="col-sm-8">
                    <!--<input name="suggest" th:field="*{suggest}" class="form-control" type="text">-->
                    <label class="toggle-switch switch-solid">
                        <input type="checkbox" onclick="openClick(this)" checked>
                        <input type="hidden" name="suggest" value="1" >
                        <span></span>
                    </label>
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">排序键值：</label>
                <div class="col-sm-8">
                    <input name="sortKey" th:field="*{sortKey}" class="form-control" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">排序权重：</label>
                <div class="col-sm-8">
                    <input name="sortWeight" th:field="*{sortWeight}" class="form-control" type="text">
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">地理位置：</label>
                <div class="col-sm-8">
                    <input name="address" autocomplete="off" type="text" value="请选择/输入城市名称"
                           class="form-control city_input inputFocus proCityQueryAll proCitySelAll">
                </div>
                <div class="provinceCityAll">
                    <div class="tabs clearfix">
                        <ul>
                            <li>
                                <a href="javascript:" class="current" tb="hotCityAll">热门城市</a>
                            </li>
                            <li>
                                <a href="javascript:" tb="provinceAll">省份</a>
                            </li>
                            <li>
                                <a href="javascript:" tb="cityAll" id="cityAll">城市</a>
                            </li>
                            <li>
                                <a href="javascript:" tb="countyAll" id="countyAll">区县</a>
                            </li>
                        </ul>
                    </div>
                    <div class="con">
                        <div class="hotCityAll invis" style="display: none;">
                            <div class="pre">
                                <a>
                                </a>
                            </div>
                            <div class="list">
                                <ul>
                                </ul>
                            </div>
                            <div class="next">
                                <a class="can">
                                </a>
                            </div>
                        </div>
                        <div class="provinceAll invis">
                            <div class="pre">
                                <a>
                                </a>
                            </div>
                            <div class="list">
                                <ul>
                                </ul>
                            </div>
                            <div class="next">
                                <a class="can">
                                </a>
                            </div>
                        </div>
                        <div class="cityAll invis">
                            <div class="pre">
                                <a>
                                </a>
                            </div>
                            <div class="list">
                                <ul>
                                </ul>
                            </div>
                            <div class="next">
                                <a class="can">
                                </a>
                            </div>
                        </div>
                        <div class="countyAll invis">
                            <div class="pre">
                                <a>
                                </a>
                            </div>
                            <div class="list">
                                <ul>
                                </ul>
                            </div>
                            <div class="next">
                                <a class="can">
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <script th:src="@{/js/city/jquery-1.6.2.min.js}"></script>
                <script th:src="@{/js/city/public.js}"></script>
                <div id="dimCityQuery"><ul></ul></div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">区域名称：</label>
                <div class="col-sm-8">
                    <input name="regionName" th:field="*{regionName}" class="form-control" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">开始营业时间：</label>
                <div class="col-sm-8">
                    <input name="shopHoursBegin" th:field="*{shopHoursBegin}" class="form-control" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">结束营业时间：</label>
                <div class="col-sm-8">
                    <input name="shopHoursEnd" th:field="*{shopHoursEnd}" class="form-control" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">商家级别：</label>
                <div class="col-sm-8">
                    <input name="level" th:field="*{level}" class="form-control" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">商家星级：</label>
                <div class="col-sm-8">
                    <input name="stars" th:field="*{stars}" class="form-control" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">商家座机：</label>
                <div class="col-sm-8">
                    <input name="telephone" th:field="*{telephone}" class="form-control" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">商家手机：</label>
                <div class="col-sm-8">
                    <input name="mobile" th:field="*{mobile}" class="form-control" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">联系人姓名：</label>
                <div class="col-sm-8">
                    <input name="contractName" th:field="*{contractName}" class="form-control" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">微信号：</label>
                <div class="col-sm-8">
                    <input name="wechatNo" th:field="*{wechatNo}" class="form-control" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">微信公众平台：</label>
                <div class="col-sm-8">
                    <input name="wechatPlatform" th:field="*{wechatPlatform}" class="form-control" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">个人二维码图片：</label>
                <div class="col-sm-8">
                    <input name="wechatNoImg" th:field="*{wechatNoImg}" class="form-control" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">微信公众号图片：</label>
                <div class="col-sm-8">
                    <input name="wechatPlatformImg" th:field="*{wechatPlatformImg}" class="form-control" type="text">
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">是否显示微信信息：</label>
                <div class="col-sm-8">
                    <!--<select name="wechatShow" th:field="*{wechatShow}" class="form-control" type="text">-->
                        <!--<option value ="1">是</option>-->
                        <!--<option value ="0">否</option>-->
                    <!--</select>-->
                    <label class="toggle-switch switch-solid">
                        <input type="checkbox" onclick="openClick(this)" checked>
                        <input type="hidden" name="wechatShow" value="1" >
                        <span></span>
                    </label>
                </div>
            </div>
            <div class="form-group">    
                <label class="col-sm-3 control-label">是否可用：</label>
                <div class="col-sm-8">
                    <!--<select name="available" th:field="*{available}" class="form-control" type="text">-->
                        <!--<option value ="1">是</option>-->
                        <!--<option value ="0">否</option>-->
                    <!--</select>-->
                    <label class="toggle-switch switch-solid">
                        <input type="checkbox" onclick="openClick(this)" checked>
                        <input type="hidden" name="available" value="1" >
                        <span></span>
                    </label>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">数据状态：</label>
                <div class="col-sm-8">
                    <!--<select name="flag" th:field="*{flag}" class="form-control" type="text">-->
                        <!--<option value ="1">是</option>-->
                        <!--<option value ="0">否</option>-->
                    <!--</select>-->
                    <label class="toggle-switch switch-solid">
                        <input type="checkbox" onclick="openClick(this)" checked>
                        <input type="hidden" name="flag" value="1" >
                        <span></span>
                    </label>
                </div>
            </div>
        </form>
    </div>
    <th:block th:include="include :: footer" />
    <script type="text/javascript">
        var prefix = "/shop";
        $("#form-shop-edit").validate({
            focusCleanup: true
        });

        function submitHandler() {
            if ($.validate.form()) {
                $.operate.save(prefix + "/edit", $('#form-shop-edit').serialize());
            }
        }


        // 修改时js有bug------------------

        function openClick(that){
            if($(that).attr('checked')){
                $(that).removeAttrs('checked');
                $(that).parent().find('input').eq(1).val(0);
            }else {
                $(that).attr('checked','checked');
                $(that).parent().find('input').eq(1).val(1);
            }
        }
    </script>
</body>
</html>